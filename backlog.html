<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audit Backlog - All Brands</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="company-styles.css">
</head>
<body>
    <div class="container">
        <!-- Header Section -->
        <header class="header">
            <div class="header-content">
                <button class="back-btn" onclick="goBack()">‚Üê Back to Dashboard</button>
                <h1>Audit Backlog - All Brands</h1>
            </div>
        </header>

        <!-- Filter Section -->
        <section class="filter-section">
            <div class="filter-card">
                <h2>Filter Audits</h2>
                <div class="filter-controls">
                    <div class="filter-group">
                        <label for="brandFilter">Brand:</label>
                        <select id="brandFilter" onchange="filterAudits()">
                            <option value="all">All Brands</option>
                            <option value="carol">Carol</option>
                            <option value="grand-vision">Grand Vision</option>
                            <option value="sunglass-hut">SunglassHut</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="statusFilter">Status:</label>
                        <select id="statusFilter" onchange="filterAudits()">
                            <option value="all">All Statuses</option>
                            <option value="aprovada">Aprovada</option>
                            <option value="aprovada-com-aviso">Aprovada com aviso</option>
                            <option value="reprovada">Reprovada</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="dateFilter">Date Range:</label>
                        <input type="date" id="dateFrom" onchange="filterAudits()" placeholder="From">
                        <input type="date" id="dateTo" onchange="filterAudits()" placeholder="To">
                    </div>
                    <div class="filter-group">
                        <button class="btn btn-secondary" onclick="clearFilters()">Clear Filters</button>
                        <button class="btn btn-primary" onclick="refreshAudits()">Refresh</button>
                        <button class="btn btn-danger" onclick="deleteAllAudits()" title="Excluir todas as auditorias">üóëÔ∏è Delete All</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Statistics Section -->
        <section class="stats-section">
            <div class="stats-grid">
                <div class="stat-card">
                    <h3>Total Audits</h3>
                    <span class="stat-number" id="totalAudits">0</span>
                </div>
                <div class="stat-card">
                    <h3>Aprovadas</h3>
                    <span class="stat-number aprovada" id="aprovadasCount">0</span>
                </div>
                <div class="stat-card">
                    <h3>Aprovadas com Aviso</h3>
                    <span class="stat-number aprovada-com-aviso" id="aprovadasComAvisoCount">0</span>
                </div>
                <div class="stat-card">
                    <h3>Reprovadas</h3>
                    <span class="stat-number reprovada" id="reprovadasCount">0</span>
                </div>
            </div>
        </section>

        <!-- Audits List Section -->
        <section class="audits-section">
            <div class="audits-card">
                <h2>All Audits</h2>
                <div class="audits-list" id="auditsList">
                    <div class="empty-audits">
                        <p>Nenhuma auditoria encontrada.</p>
                        <p>Fa√ßa upload de auditorias para v√™-las aqui.</p>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Audit Details Modal -->
    <div id="auditDetailsModal" class="modal-overlay" style="display: none;">
        <div class="modal-content audit-details-modal">
            <div class="modal-header">
                <h2>Audit Details</h2>
                <button class="close-btn" onclick="closeAuditDetailsModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="audit-details-content">
                    <div class="detail-section">
                        <h3>Company Information</h3>
                        <div class="detail-item">
                            <span class="detail-label">Company:</span>
                            <span class="detail-value" id="detailCompany">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Branch:</span>
                            <span class="detail-value" id="detailBranch">-</span>
                        </div>
                    </div>
                    
                    <div class="detail-section">
                        <h3>File Information</h3>
                        <div class="detail-item">
                            <span class="detail-label">Filename:</span>
                            <span class="detail-value" id="detailFilename">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Upload Date:</span>
                            <span class="detail-value" id="detailUploadDate">-</span>
                        </div>
                    </div>
                    
                    <div class="detail-section">
                        <h3>Audit Information</h3>
                        <div class="detail-item">
                            <span class="detail-label">Audit Date:</span>
                            <span class="detail-value" id="detailAuditDate">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Status:</span>
                            <span class="detail-value" id="detailStatus">-</span>
                        </div>
                    </div>
                    
                    <div class="detail-section">
                        <h3>Description</h3>
                        <div class="detail-item full-width">
                            <span class="detail-value" id="detailDescription">-</span>
                        </div>
                    </div>
                </div>
                
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeAuditDetailsModal()">Close</button>
                    <button type="button" class="btn btn-danger" onclick="deleteAuditFromModal()" id="deleteFromModalBtn">Delete Audit</button>
                </div>
            </div>
        </div>
    </div>

    <script src="js/api.js"></script>
    <script src="backlog-scripts.js"></script>
</body>
</html>
